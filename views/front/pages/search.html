<!-- Mobile search box -->
<% include pages/mobileSearchBox.html %>
<!-- !Mobile search box -->

<!-- Article -->
<article class="pmp-page-content-box first-desktop" data-ng-class="{last: $last}" data-ng-repeat="article in globals.articleList">
  <h2 class="box-vignette-left news-vignette" data-ng-show="'news' == article.type">News</h2>
  <h2 class="box-vignette-left life-vignette" data-ng-show="'life' == article.type">Personal</h2>
  <h2 class="box-vignette-left project-vignette" data-ng-show="'project' == article.type">Project</h2>
  <h2 class="box-vignette-left tutorial-vignette" data-ng-show="'tutorial' == article.type">Tutorial</h2>
  <h2 class="box-vignette-left flash-vignette" data-ng-show="'flash' == article.type"><span class="icon icon-lightning"></span>&nbsp;&nbsp;Flash</h2>

  <h2 class="box-vignette-left date-vignette" data-ng-bind="article.created | date: 'yyyy-MM-dd'"></h2>

  <h2 class="box-vignette-right relevance-vignette" data-ng-bind="article.points | number: 0"></h2>

  <div class="pmp-search-article">
    <h1 class="pmp-search-article-title">
      <a href="/article/{{article.technicalName}}"
         data-ng-bind-html="article.title | trust"
         data-ng-hide="'flash' == article.type">
      </a>
      <span href="/article/{{article.technicalName}}"
         data-ng-bind-html="article.title | trust"
         data-ng-show="'flash' == article.type">
      </span>
    </h1>

    <div class="pmp-search-article-caption pmp-bb-generated" data-ng-bind-html="article.caption | trust">
    </div>

    <div class="pmp-search-article-more">
      <div class="pmp-search-article-access" data-ng-hide="'flash' == article.type">
        <a class="button button-labeled-inverse button-info" href="/article/{{article.technicalName}}">
          Read blog post
          <div class="button-label"><span class="icon icon-arrow-right"></span></div>
        </a>
      </div>

      <div class="pmp-search-article-tags">
        <a class="pmp-search-article-tag-group" href="/search?search={{article.tags.join(' ')}}"><span class="icon icon-tags"></span></a>

        <a class="pmp-search-article-tag" data-ng-repeat="tag in article.tags" href="/search?search={{tag}}" data-ng-bind="tag">
        </a>
      </div>
    </div>
  </div>
</article>
<!-- !Article -->

<!-- If no result -->
<div class="pmp-page-content-box first-desktop last" data-ng-hide="0 < globals.articleList.length">
  <div class="pmp-search-not-found">
    <p class="pmp-search-not-found-main-text">
      No article found for search &quot;<span class="">{{globals.searchString}}</span>&quot;.
    </p>

    <p>
      Perhaps you should not have searched for such a refined theme.
    </p>
  </div>
</div>
<!-- !If no result -->

<!-- Page -->
<div class="pmp-page-control">
  <div ng-hide="1 >= globals.totalPageCount">
    <!-- Should be inactive if at page 1 -->
    <a class="button" href="/search/{{globals.actualPageIndex}}?search={{globals.searchString}}"
       ng-hide="0 == globals.actualPageIndex">
      <span class="icon icon-previous"></span>
    </a>
    <span class="button button-deactivated"
          ng-show="0 == globals.actualPageIndex">
      <span class="icon icon-previous"></span>
    </span>

    <span ng-repeat="i in range(globals.totalPageCount) track by $index">
      <a class="button" href="/search/{{$index+1}}?search={{globals.searchString}}"
         ng-show="globals.actualPageIndex != $index">
        {{$index+1}}
      </a>
      <span class="button button-selected" ng-hide="globals.actualPageIndex != $index">{{$index+1}}</span>
    </span>

    <!-- Should be inactive if at max page -->
    <a class="button" href="/search/{{globals.actualPageIndex + 2}}?search={{globals.searchString}}"
       ng-hide="globals.totalPageCount - 1 == globals.actualPageIndex">
      <span class="icon icon-next"></span>
    </a>
    <span class="button button-deactivated"
          ng-show="globals.totalPageCount - 1 == globals.actualPageIndex">
      <span class="icon icon-next"></span>
    </span>
  </div>
</div>
<!-- !Page -->
